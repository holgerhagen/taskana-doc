"use strict";(self.webpackChunkfirst_example=self.webpackChunkfirst_example||[]).push([[33],{3905:(e,n,t)=>{t.d(n,{Zo:()=>d,kt:()=>g});var a=t(7294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var p=a.createContext({}),l=function(e){var n=a.useContext(p),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},d=function(e){var n=l(e.components);return a.createElement(p.Provider,{value:n},e.children)},c={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},u=a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,o=e.originalType,p=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),u=l(t),g=r,m=u["".concat(p,".").concat(g)]||u[g]||c[g]||o;return t?a.createElement(m,i(i({ref:n},d),{},{components:t})):a.createElement(m,i({ref:n},d))}));function g(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var o=t.length,i=new Array(o);i[0]=u;var s={};for(var p in n)hasOwnProperty.call(n,p)&&(s[p]=n[p]);s.originalType=e,s.mdxType="string"==typeof e?e:r,i[1]=s;for(var l=2;l<o;l++)i[l]=t[l];return a.createElement.apply(null,i)}return a.createElement.apply(null,t)}u.displayName="MDXCreateElement"},9314:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>p,default:()=>g,frontMatter:()=>s,metadata:()=>l,toc:()=>c});var a=t(7462),r=(t(7294),t(3905)),o=t(933),i=t(9960);const s={sidebar_position:1},p="Example Spring Boot",l={unversionedId:"user-guide/getting-started/exampleSpringBoot",id:"user-guide/getting-started/exampleSpringBoot",title:"Example Spring Boot",description:"In the first 4 steps, we will set up TASKANA REST API without security. Then, we will show how to use",source:"@site/docs/user-guide/getting-started/exampleSpringBoot.md",sourceDirName:"user-guide/getting-started",slug:"/user-guide/getting-started/exampleSpringBoot",permalink:"/taskana-doc/docs/user-guide/getting-started/exampleSpringBoot",draft:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"userSidebar",previous:{title:"Getting Started",permalink:"/taskana-doc/docs/category/getting-started"},next:{title:"Supported Environments",permalink:"/taskana-doc/docs/user-guide/getting-started/supportedEnvironments"}},d={},c=[{value:"What you&#39;ll need",id:"what-youll-need",level:2},{value:"Set up TASKANA REST-API without security",id:"set-up-taskana-rest-api-without-security",level:2},{value:"Step 1: Initialize an empty project",id:"step-1-initialize-an-empty-project",level:3},{value:"Step 2: Add dependencies",id:"step-2-add-dependencies",level:3},{value:"Step 3: Add properties configuration",id:"step-3-add-properties-configuration",level:3},{value:"Step 3a: Fill out application.properties",id:"step-3a-fill-out-applicationproperties",level:4},{value:"Step 3b: Add taskana.properties",id:"step-3b-add-taskanaproperties",level:4},{value:"Step 4: Add rest configuration",id:"step-4-add-rest-configuration",level:3},{value:"Step 5: Try out the REST-API",id:"step-5-try-out-the-rest-api",level:3},{value:"Set up TASKANA Security",id:"set-up-taskana-security",level:2},{value:"Step 6: Add security dependencies and stop disabling security",id:"step-6-add-security-dependencies-and-stop-disabling-security",level:3},{value:"Step 7: Add BootWebSecurityConfigurer.java",id:"step-7-add-bootwebsecurityconfigurerjava",level:3},{value:"Step 8: Add ExampleWebSecurityConfig.java",id:"step-8-add-examplewebsecurityconfigjava",level:3},{value:"Step 9: Add users",id:"step-9-add-users",level:3},{value:"Step 10: Try out the REST-API",id:"step-10-try-out-the-rest-api",level:3},{value:"Set up TASKANA UI",id:"set-up-taskana-ui",level:2},{value:"Step 11: Add web dependencies",id:"step-11-add-web-dependencies",level:3},{value:"Step 12: Add controllers",id:"step-12-add-controllers",level:3},{value:"Step 12a: Add <code>LoginController.java</code>",id:"step-12a-add-logincontrollerjava",level:4},{value:"Step 12b: Add ResourcesController.java",id:"step-12b-add-resourcescontrollerjava",level:4},{value:"Step 12c: Add ViewController.java",id:"step-12c-add-viewcontrollerjava",level:4},{value:"Step 13: Add WebMvcConfig.java",id:"step-13-add-webmvcconfigjava",level:3},{value:"Step 14: Start and open the application",id:"step-14-start-and-open-the-application",level:3}],u={toc:c};function g(e){let{components:n,...s}=e;return(0,r.kt)("wrapper",(0,a.Z)({},u,s,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"example-spring-boot"},"Example Spring Boot"),(0,r.kt)("p",null,"In the first 4 steps, we will set up TASKANA REST API without security. Then, we will show how to use\nthe resulting REST API with ",(0,r.kt)("a",{parentName:"p",href:"https://www.postman.com/"},"postman"),". This guide then sets up security.\nIn the end of the guide, we will add the UI."),(0,r.kt)("h2",{id:"what-youll-need"},"What you'll need"),(0,r.kt)("p",null,"In order to set up the example, please install:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"an IDE of your choice (preferably IntelliJ)"),(0,r.kt)("li",{parentName:"ul"},"Java 11"),(0,r.kt)("li",{parentName:"ul"},"maven"),(0,r.kt)("li",{parentName:"ul"},"optional: ",(0,r.kt)("a",{parentName:"li",href:"https://www.postman.com/"},"postman")," (makes REST API requests easier)")),(0,r.kt)("p",null,"Note: Please name your packages, folders and files exactly like in the example!"),(0,r.kt)("h2",{id:"set-up-taskana-rest-api-without-security"},"Set up TASKANA REST-API without security"),(0,r.kt)("h3",{id:"step-1-initialize-an-empty-project"},"Step 1: Initialize an empty project"),(0,r.kt)("p",null,"Go to ",(0,r.kt)("a",{parentName:"p",href:"https://start.spring.io/"},"Spring Initializer"),' and create an example Maven Project. Choose the\nsame options as in the Screenshot, except the spring version. Please check Java 11, then click on "\nGenerate".'),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"empty spring boot project",src:t(565).Z,width:"1908",height:"1061"})),(0,r.kt)("p",null,"Unpack the project in the folder of your choice and open it in IntelliJ"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"unpacked project",src:t(1596).Z,width:"1725",height:"775"})),(0,r.kt)("h3",{id:"step-2-add-dependencies"},"Step 2: Add dependencies"),(0,r.kt)("p",null,"Please add following dependencies to the pom. All dependencies can be copied as one block at the end\nof step 2. After adding the dependencies, please reload maven and recompile the project."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"}," 1. spring core depenpendency: ")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"<dependency>\n    <groupId>org.springframework.plugin</groupId>\n    <artifactId>spring-plugin-core</artifactId>\n    <version>2.0.0.RELEASE</version>\n</dependency>\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"}," 2. database dependencies: ")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"<dependency>\n    <groupId>com.h2database</groupId>\n    <artifactId>h2</artifactId>\n</dependency>\n<dependency>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>spring-boot-starter-jdbc</artifactId>\n</dependency>\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"}," 3. taskana dependencies: ")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"<dependency>\n    <groupId>pro.taskana</groupId>\n    <artifactId>taskana-common-data</artifactId>\n    <version>6.0.2</version>\n</dependency>\n<dependency>\n    <groupId>pro.taskana</groupId>\n    <artifactId>taskana-common-logging</artifactId>\n    <version>6.0.2</version>\n</dependency>\n<dependency>\n    <groupId>pro.taskana</groupId>\n    <artifactId>taskana-rest-spring</artifactId>\n    <version>6.0.2</version>\n</dependency>\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"}," 4. tomcat application server dependency: ")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"<dependency>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>spring-boot-starter-web</artifactId>\n</dependency>\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"}," All dependencies ")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"<dependency>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>spring-boot-starter-web</artifactId>\n</dependency>\n<dependency>\n    <groupId>org.springframework.plugin</groupId>\n    <artifactId>spring-plugin-core</artifactId>\n    <version>2.0.0.RELEASE</version>\n</dependency>\n<dependency>\n    <groupId>pro.taskana</groupId>\n    <artifactId>taskana-common-logging</artifactId>\n    <version>6.0.2</version>\n</dependency>\n<dependency>\n    <groupId>pro.taskana</groupId>\n    <artifactId>taskana-rest-spring</artifactId>\n    <version>6.0.2</version>\n</dependency>\n<dependency>\n    <groupId>pro.taskana</groupId>\n    <artifactId>taskana-common-data</artifactId>\n    <version>6.0.2</version>\n</dependency>\n<dependency>\n    <groupId>com.h2database</groupId>\n    <artifactId>h2</artifactId>\n</dependency>\n<dependency>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>spring-boot-starter-jdbc</artifactId>\n</dependency>\n")),(0,r.kt)("h3",{id:"step-3-add-properties-configuration"},"Step 3: Add properties configuration"),(0,r.kt)("h4",{id:"step-3a-fill-out-applicationproperties"},"Step 3a: Fill out application.properties"),(0,r.kt)("p",null,"The example already has the configuration file ",(0,r.kt)("inlineCode",{parentName:"p"},"application.properties")," in\nthe ",(0,r.kt)("inlineCode",{parentName:"p"},"src/main/ressources")," folder. It's a standard configuration file used by spring. You can read\nmore about spring configuration in\nthe ",(0,r.kt)("a",{parentName:"p",href:"https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html"},"spring documentation"),".\nYou need to add following content into that file:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"logging.level.pro.taskana=INFO\nlogging.level.org.springframework.security=INFO\nserver.servlet.context-path=/taskana\ntaskana.routing.dmn.upload.path=/tmp/routing.dmn\n######## Taskana DB #######\n######## h2 configuration ########\nspring.datasource.url=jdbc:h2:mem:taskana;NON_KEYWORDS=KEY,VALUE;IGNORECASE=TRUE;DB_CLOSE_ON_EXIT=FALSE;LOCK_MODE=0\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.username=sa\nspring.datasource.password=sa\ntaskana.schemaName=TASKANA\n######## h2 console configuration ########\n########spring.h2.console.enabled=true\n########spring.h2.console.path=/h2-console\n######## db2 configuration ########\n########spring.datasource.driverClassName=com.ibm.db2.jcc.DB2Driver\n########spring.datasource.url=jdbc:db2://localhost:5101/tskdb\n########spring.datasource.username=db2inst1\n########spring.datasource.password=db2inst1-pwd\n######## Postgres configuration ########\n########spring.datasource.url=jdbc:postgresql://localhost:5102/taskana\n########spring.datasource.driverClassName=org.postgresql.Driver\n########spring.datasource.username=postgres\n########spring.datasource.password=1234\n########spring.jpa.generate-ddl=true\n########spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true\n####### property that control rest api security deploy use true for no security.\ndevMode=true\n# This property enables the support of XSRF tokens. This will not work together with devMode.\nenableCsrf=false\n####### property that control if the database is cleaned and sample data is generated\ngenerateSampleData=true\n####### JobScheduler cron expression that specifies when the JobSchedler runs\ntaskana.jobscheduler.async.cron=0 * * * * *\n####### cache static resources properties\nspring.web.resources.cache.cachecontrol.cache-private=true\n####### for upload of big workbasket- or classification-files\nspring.servlet.multipart.max-file-size=10MB\nspring.servlet.multipart.max-request-size=10MB\n####### serve compressed files for faster UI loading times\nserver.compression.enabled=true\nserver.compression.mime-types=application/json,application/xml,text/html,text/xml,text/plain,application/javascript,text/css,image/svg+xml\nserver.compression.min-response-size=10240\nspring.main.allow-bean-definition-overriding=true\nserver.tomcat.max-http-form-post-size=-1\nserver.tomcat.max-save-post-size=-1\nserver.tomcat.max-swallow-size=-1\n####### tomcat is not detecting the x-forward headers from bluemix as a trustworthy proxy\nserver.tomcat.remoteip.internal-proxies=.*\nserver.forward-headers-strategy=native\n####### Properties for AccessIdController to connect to LDAP\ntaskana.ldap.serverUrl=ldap://localhost:10389\ntaskana.ldap.bindDn=uid=admin\ntaskana.ldap.bindPassword=secret\ntaskana.ldap.baseDn=ou=Test,O=TASKANA\ntaskana.ldap.userSearchBase=cn=users\ntaskana.ldap.userSearchFilterName=objectclass\ntaskana.ldap.userSearchFilterValue=person\ntaskana.ldap.userFirstnameAttribute=givenName\ntaskana.ldap.userLastnameAttribute=sn\ntaskana.ldap.userFullnameAttribute=cn\ntaskana.ldap.userPhoneAttribute=phoneNumber\ntaskana.ldap.userMobilePhoneAttribute=mobileNumber\ntaskana.ldap.userEmailAttribute=email\ntaskana.ldap.userOrglevel1Attribute=orgLevel1\ntaskana.ldap.userOrglevel2Attribute=orgLevel2\ntaskana.ldap.userOrglevel3Attribute=someDepartement\ntaskana.ldap.userOrglevel4Attribute=orgLevel4\ntaskana.ldap.userIdAttribute=uid\ntaskana.ldap.userMemberOfGroupAttribute=memberOf\ntaskana.ldap.groupSearchBase=\ntaskana.ldap.groupSearchFilterName=objectclass\ntaskana.ldap.groupSearchFilterValue=groupofuniquenames\ntaskana.ldap.groupNameAttribute=cn\ntaskana.ldap.minSearchForLength=3\ntaskana.ldap.maxNumberOfReturnedAccessIds=50\ntaskana.ldap.groupsOfUser=uniquemember\n# Embedded Spring LDAP server\nspring.ldap.embedded.base-dn=OU=Test,O=TASKANA\nspring.ldap.embedded.credential.username=uid=admin\nspring.ldap.embedded.credential.password=secret\nspring.ldap.embedded.ldif=classpath:example-users.ldif\nspring.ldap.embedded.port=10389\nspring.ldap.embedded.validation.enabled=false\n")),(0,r.kt)("h4",{id:"step-3b-add-taskanaproperties"},"Step 3b: Add taskana.properties"),(0,r.kt)("p",null,"Create ",(0,r.kt)("inlineCode",{parentName:"p"},"taskana.properties")," in the resources folder. This file contains taskana specific\nconfiguration, like custom holidays etc.. Please\ncopy following content into ",(0,r.kt)("inlineCode",{parentName:"p"},"taskana.properties"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"taskana.roles.user=cn=ksc-users,cn=groups,OU=Test,O=TASKANA | teamlead-1 | teamlead-2 | user-1-1 | user-1-2 | user-2-1 | user-2-2 | user-b-1 | user-b-2\ntaskana.roles.admin=admin | uid=admin,cn=users,OU=Test,O=TASKANA\ntaskana.roles.business_admin=businessadmin | cn=business-admins,cn=groups,OU=Test,O=TASKANA\ntaskana.roles.monitor=monitor | cn=monitor-users,cn=groups,OU=Test,O=TASKANA\ntaskana.roles.task_admin=taskadmin\ntaskana.domains=DOMAIN_A|DOMAIN_B|DOMAIN_C|DOMAIN_TEST\ntaskana.user.minimalPermissionsToAssignDomains=READ | OPEN\ntaskana.classification.types=TASK|DOCUMENT\ntaskana.classification.categories.task=EXTERNAL| manual| autoMAtic| Process\ntaskana.classification.categories.document=EXTERNAL\ntaskana.jobs.maxRetries=3\ntaskana.jobs.batchSize=50\ntaskana.jobs.runEvery=P1D\ntaskana.jobs.firstRunAt=2018-07-25T08:00:00Z\ntaskana.jobs.cleanup.task.minimumAge=P14D\ntaskana.jobs.cleanup.history.simple.batchSize=50\ntaskana.jobs.history.cleanup.firstRunAt=2018-07-25T08:00:00Z\ntaskana.jobs.cleanup.history.simple.minimumAge=P14D\ntaskana.jobs.history.cleanup.runEvery=P1D\ntaskana.jobs.refresh.user.runEvery=P1D\ntaskana.jobs.refresh.user.firstRunAt=2018-07-25T23:00:00Z\ntaskana.workingTime.holidays.german.enabled=true\ntaskana.workingTime.holidays.german.corpus-christi.enabled=true\ntaskana.history.logger.name=AUDIT\ntaskana.routing.dmn=/dmn-table.dmn\n# enable or disable the jobscheduler at all\n# set it to false and no jobs are running\ntaskana.jobs.scheduler.enabled=false\n# wait time before the first job run in millis\ntaskana.jobs.scheduler.initialStartDelay=100\n# sleeping time befor the next job runs\ntaskana.jobs.scheduler.period=12\n# timeunit for the sleeping period\n# Possible values: MILLISECONDS, SECONDS, MINUTES, HOURS, DAYS\ntaskana.jobs.scheduler.periodTimeUnit=HOURS\ntaskana.jobs.cleanup.task.enable=true\ntaskana.jobs.priority.task.enable=true\ntaskana.jobs.cleanup.workbasket.enable=true\ntaskana.jobs.refresh.user.enable=true\ntaskana.jobs.cleanup.history.simple.enable=false\n")),(0,r.kt)("h3",{id:"step-4-add-rest-configuration"},"Step 4: Add rest configuration"),(0,r.kt)("p",null,"First, Add ",(0,r.kt)("inlineCode",{parentName:"p"},'@ComponentScan({"pro.taskana","com.example"})')," as annotation above the class\ndefinition of the ExampleApplication and acorresponding import to this class. This will allow the\napllication to find needed components."),(0,r.kt)("p",null,"Then, create a java class with the name ",(0,r.kt)("inlineCode",{parentName:"p"},"ExampleRestConfiguration")," in the com.example.demo\npackage. This class defines the Beans and their dependencies. Your project structure should look\nlike this:"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"basic project",src:t(5554).Z,width:"344",height:"601"})),(0,r.kt)("p",null,"Copy following content into ",(0,r.kt)("inlineCode",{parentName:"p"},"ExampleRestConfiguration.java"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'package com.example.demo;\n\nimport java.sql.SQLException;\nimport javax.sql.DataSource;\nimport org.h2.tools.Server;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.DependsOn;\nimport org.springframework.jdbc.datasource.DataSourceTransactionManager;\nimport org.springframework.transaction.PlatformTransactionManager;\nimport pro.taskana.TaskanaConfiguration;\nimport pro.taskana.common.api.TaskanaEngine;\nimport pro.taskana.common.internal.configuration.DbSchemaCreator;\nimport pro.taskana.sampledata.SampleDataGenerator;\n\n@Configuration\npublic class ExampleRestConfiguration {\n\n  @Bean\n  public PlatformTransactionManager txManager(DataSource dataSource) {\n    return new DataSourceTransactionManager(dataSource);\n  }\n\n  @Bean\n  @DependsOn("taskanaConfiguration") // generate sample data after schema was inserted\n  public SampleDataGenerator generateSampleData(\n      TaskanaConfiguration taskanaConfiguration,\n      DataSource dataSource,\n      @Value("${generateSampleData:true}") boolean generateSampleData)\n      throws SQLException {\n    DbSchemaCreator dbSchemaCreator =\n        new DbSchemaCreator(dataSource, taskanaConfiguration.getSchemaName());\n    dbSchemaCreator.run();\n    SampleDataGenerator sampleDataGenerator =\n        new SampleDataGenerator(dataSource, taskanaConfiguration.getSchemaName());\n    if (generateSampleData) {\n      sampleDataGenerator.generateSampleData();\n    }\n    return sampleDataGenerator;\n  }\n\n  @Bean\n  @DependsOn("generateSampleData")\n  public TaskanaEngine getTaskanaEngine(TaskanaConfiguration taskanaConfiguration)\n      throws SQLException {\n    return TaskanaEngine.buildTaskanaEngine(taskanaConfiguration);\n  }\n\n  // only required to let the adapter example connect to the same database\n  @Bean(initMethod = "start", destroyMethod = "stop")\n  public Server inMemoryH2DatabaseaServer() throws SQLException {\n    return Server.createTcpServer("-tcp", "-tcpAllowOthers", "-tcpPort", "9095");\n  }\n  \n  @Bean\n  @ConditionalOnMissingBean(TaskanaConfiguration.class)\n  public TaskanaConfiguration taskanaConfiguration(\n      DataSource dataSource,\n      @Qualifier("taskanaPropertiesFileName") String propertiesFileName,\n      @Qualifier("taskanaPropertiesDelimiter") String delimiter) {\n    return new TaskanaConfiguration.Builder(dataSource, true, "TASKANA")\n        .initTaskanaProperties(propertiesFileName, delimiter)\n        .build();\n  }\n}\n\n\n')),(0,r.kt)("h3",{id:"step-5-try-out-the-rest-api"},"Step 5: Try out the REST-API"),(0,r.kt)("p",null,"Recompile the project and then start the DemoApplication in your IDE. You can now make following\nrequest:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"GET http://localhost:8080/taskana/api/v1/classifications\n")),(0,r.kt)("p",null,"You should get a list of different Classifications in the body of the response. Here is a screenshot\nof the request and the response in ",(0,r.kt)("a",{parentName:"p",href:"https://www.postman.com/"},"postman"),":"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"example request",src:t(8118).Z,width:"1410",height:"925"})),(0,r.kt)("p",null,"You can also request Tasks using following command:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"GET http://localhost:8080/taskana/api/v1/tasks\n")),(0,r.kt)("p",null,"At this point, full TASKANA REST-API functionality is available without security or authorization.\nThey will be added in the next steps."),(0,r.kt)("h2",{id:"set-up-taskana-security"},"Set up TASKANA Security"),(0,r.kt)("p",null,"Our example application uses ",(0,r.kt)("a",{parentName:"p",href:"https://ldap.com/learn-about-ldap/"},"ldap")," for its authorization.\nFirst, add a ",(0,r.kt)("inlineCode",{parentName:"p"},"security")," package into the ",(0,r.kt)("inlineCode",{parentName:"p"},"com.example.demo")," package (in\nsrc/main/java/com/example/demo). The package will consist of one configurer class:\nBootWebSecurityConfigurer (will be replaced), and one example configuration\nExampleWebSecurityConfig. The classes will be created in the next steps."),(0,r.kt)("h3",{id:"step-6-add-security-dependencies-and-stop-disabling-security"},"Step 6: Add security dependencies and stop disabling security"),(0,r.kt)("p",null,"Add following dependencies to your pom and reload maven:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"<dependency>\n    <groupId>org.springframework.ldap</groupId>\n    <artifactId>spring-ldap-core</artifactId>\n</dependency>\n<dependency>\n    <groupId>org.springframework.security</groupId>\n    <artifactId>spring-security-ldap</artifactId>\n</dependency>\n<dependency>\n    <groupId>com.unboundid</groupId>\n    <artifactId>unboundid-ldapsdk</artifactId>\n</dependency>\n<dependency>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>spring-boot-starter-security</artifactId>\n</dependency>\n")),(0,r.kt)("p",null,"Then, set the ",(0,r.kt)("inlineCode",{parentName:"p"},"devMode")," property in ",(0,r.kt)("inlineCode",{parentName:"p"},"application.properties")," to false. This enables\nauthorization checks.\nYou also need to remove following lines from the ",(0,r.kt)("inlineCode",{parentName:"p"},"ExampleRestConfiguration.java"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},' @Bean\n@ConditionalOnMissingBean(TaskanaConfiguration.class)\npublic TaskanaConfiguration taskanaConfiguration(\n    DataSource dataSource,\n    @Qualifier("taskanaPropertiesFileName") String propertiesFileName,\n    @Qualifier("taskanaPropertiesDelimiter") String delimiter) {\n  return new TaskanaConfiguration.Builder(dataSource, true, "TASKANA")\n      .initTaskanaProperties(propertiesFileName, delimiter)\n      .build();\n}\n')),(0,r.kt)("p",null,"This way, you don't disable security manually.\nDeleted because TaskanaEngineConfiguration doesn't exist anymore"),(0,r.kt)("h3",{id:"step-7-add-bootwebsecurityconfigurerjava"},"Step 7: Add BootWebSecurityConfigurer.java"),(0,r.kt)("p",null,"Create ",(0,r.kt)("inlineCode",{parentName:"p"},"BootWebSecurityConfigurer.java")," in the security folder and copy following content into\nit:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'package com.example.demo.security;\n\nimport java.util.List;\nimport java.util.Map;\nimport java.util.function.Function;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.http.HttpMethod;\nimport org.springframework.ldap.core.support.BaseLdapPathContextSource;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.ldap.LdapPasswordComparisonAuthenticationManagerFactory;\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\nimport org.springframework.security.core.authority.mapping.GrantedAuthoritiesMapper;\nimport org.springframework.security.core.authority.mapping.SimpleAuthorityMapper;\nimport org.springframework.security.crypto.password.NoOpPasswordEncoder;\nimport org.springframework.security.ldap.DefaultSpringSecurityContextSource;\nimport org.springframework.security.ldap.userdetails.DefaultLdapAuthoritiesPopulator;\nimport org.springframework.security.ldap.userdetails.LdapAuthoritiesPopulator;\nimport org.springframework.security.web.SecurityFilterChain;\nimport org.springframework.security.web.csrf.CookieCsrfTokenRepository;\nimport org.springframework.security.web.jaasapi.JaasApiIntegrationFilter;\nimport org.springframework.security.web.util.matcher.AntPathRequestMatcher;\nimport pro.taskana.common.rest.SpringSecurityToJaasFilter;\n\n/** Default basic configuration for taskana web example. */\n@Configuration\npublic class BootWebSecurityConfigurer {\n\n  private final String ldapServerUrl;\n  private final String ldapBaseDn;\n  private final String ldapUserDnPatterns;\n  private final String ldapGroupSearchBase;\n  private final String ldapGroupSearchFilter;\n\n  private final boolean devMode;\n  private final boolean enableCsrf;\n\n  public BootWebSecurityConfigurer(\n      @Value("${taskana.ldap.serverUrl:ldap://localhost:10389}") String ldapServerUrl,\n      @Value("${taskana.ldap.baseDn:OU=Test,O=TASKANA}") String ldapBaseDn,\n      @Value("${taskana.ldap.userDnPatterns:uid={0},cn=users}") String ldapUserDnPatterns,\n      @Value("${taskana.ldap.groupSearchBase:cn=groups}") String ldapGroupSearchBase,\n      @Value("${taskana.ldap.groupSearchFilter:uniqueMember={0}}") String ldapGroupSearchFilter,\n      @Value("${enableCsrf:false}") boolean enableCsrf,\n      @Value("${devMode:false}") boolean devMode) {\n    this.enableCsrf = enableCsrf;\n    this.ldapServerUrl = ldapServerUrl;\n    this.ldapBaseDn = ldapBaseDn;\n    this.ldapGroupSearchBase = ldapGroupSearchBase;\n    this.ldapGroupSearchFilter = ldapGroupSearchFilter;\n    this.ldapUserDnPatterns = ldapUserDnPatterns;\n    this.devMode = devMode;\n  }\n\n  @Bean\n  public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    HttpSecurity httpSecurity =\n        http.authorizeRequests()\n            .antMatchers("/css/**", "/img/**")\n            .permitAll()\n            .and()\n            .authorizeRequests()\n            .antMatchers(HttpMethod.GET, "/docs/**")\n            .permitAll()\n            .and()\n            .addFilter(jaasApiIntegrationFilter())\n            .addFilterAfter(new SpringSecurityToJaasFilter(), JaasApiIntegrationFilter.class);\n\n    if (enableCsrf) {\n      CookieCsrfTokenRepository csrfTokenRepository = CookieCsrfTokenRepository.withHttpOnlyFalse();\n      csrfTokenRepository.setCookiePath("/");\n      httpSecurity.csrf().csrfTokenRepository(csrfTokenRepository);\n    } else {\n      httpSecurity.csrf().disable().httpBasic();\n    }\n\n    if (devMode) {\n      http.headers()\n          .frameOptions()\n          .sameOrigin()\n          .and()\n          .authorizeRequests()\n          .antMatchers("/h2-console/**")\n          .permitAll();\n    } else {\n      addLoginPageConfiguration(http);\n    }\n    return http.build();\n  }\n\n  @Bean\n  public LdapAuthoritiesPopulator authoritiesPopulator(\n      DefaultSpringSecurityContextSource contextSource) {\n    Function<Map<String, List<String>>, GrantedAuthority> authorityMapper =\n        recordVar -> new SimpleGrantedAuthority(recordVar.get("spring.security.ldap.dn").get(0));\n\n    DefaultLdapAuthoritiesPopulator populator =\n        new DefaultLdapAuthoritiesPopulator(contextSource, ldapGroupSearchBase);\n    populator.setGroupSearchFilter(ldapGroupSearchFilter);\n    populator.setSearchSubtree(true);\n    populator.setRolePrefix("");\n    populator.setAuthorityMapper(authorityMapper);\n    return populator;\n  }\n\n  @Bean\n  @Primary\n  public DefaultSpringSecurityContextSource defaultSpringSecurityContextSource() {\n    return new DefaultSpringSecurityContextSource(ldapServerUrl + "/" + ldapBaseDn);\n  }\n\n  @Bean\n  public GrantedAuthoritiesMapper grantedAuthoritiesMapper() {\n    SimpleAuthorityMapper grantedAuthoritiesMapper = new SimpleAuthorityMapper();\n    grantedAuthoritiesMapper.setPrefix("");\n    return grantedAuthoritiesMapper;\n  }\n\n  protected void addLoginPageConfiguration(HttpSecurity http) throws Exception {\n    http.authorizeRequests()\n        .anyRequest()\n        .fullyAuthenticated()\n        .and()\n        .formLogin()\n        .loginPage("/login")\n        .failureUrl("/login?error")\n        .defaultSuccessUrl("/")\n        .permitAll()\n        .and()\n        .logout()\n        .invalidateHttpSession(true)\n        .clearAuthentication(true)\n        .logoutRequestMatcher(new AntPathRequestMatcher("/logout"))\n        .logoutSuccessUrl("/login?logout")\n        .deleteCookies("JSESSIONID")\n        .permitAll();\n  }\n\n  protected JaasApiIntegrationFilter jaasApiIntegrationFilter() {\n    JaasApiIntegrationFilter filter = new JaasApiIntegrationFilter();\n    filter.setCreateEmptySubject(true);\n    return filter;\n  }\n\n  @Bean\n  AuthenticationManager ldapAuthenticationManager(\n      BaseLdapPathContextSource contextSource, LdapAuthoritiesPopulator authorities) {\n    @SuppressWarnings("deprecation")\n    LdapPasswordComparisonAuthenticationManagerFactory factory =\n        new LdapPasswordComparisonAuthenticationManagerFactory(\n            contextSource, NoOpPasswordEncoder.getInstance());\n    factory.setUserDnPatterns(ldapUserDnPatterns);\n    factory.setLdapAuthoritiesPopulator(authorities);\n    factory.setAuthoritiesMapper(grantedAuthoritiesMapper());\n    factory.setPasswordAttribute("userPassword");\n    return factory.createAuthenticationManager();\n  }\n}\n\n')),(0,r.kt)("h3",{id:"step-8-add-examplewebsecurityconfigjava"},"Step 8: Add ExampleWebSecurityConfig.java"),(0,r.kt)("p",null,"ExampleWebSecurityConfig specifies beans that are used for authorization by spring.\nCreate ",(0,r.kt)("inlineCode",{parentName:"p"},"ExampleWebSecurityConfig.java")," in the ",(0,r.kt)("inlineCode",{parentName:"p"},"security")," package and copy following content\nthere:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'package com.example.demo.security;\n\nimport org.springframework.boot.web.servlet.FilterRegistrationBean;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.cors.CorsConfiguration;\nimport org.springframework.web.cors.UrlBasedCorsConfigurationSource;\nimport org.springframework.web.filter.CorsFilter;\nimport org.springframework.web.servlet.config.annotation.CorsRegistry;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\n\n@Configuration\npublic class ExampleWebSecurityConfig {\n\n  @Bean\n  public WebMvcConfigurer corsConfigurer() {\n    return new CorsWebMvcConfigurer();\n  }\n\n  @Bean\n  public FilterRegistrationBean<CorsFilter> corsFilter() {\n    final UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n    CorsConfiguration config = new CorsConfiguration();\n    config.setAllowCredentials(true);\n    config.addAllowedOriginPattern("*");\n    config.addAllowedHeader("*");\n    config.addAllowedMethod("*");\n    source.registerCorsConfiguration("/**", config);\n    FilterRegistrationBean<CorsFilter> bean = new FilterRegistrationBean<>(new CorsFilter(source));\n    bean.setOrder(0);\n    return bean;\n  }\n\n  private static class CorsWebMvcConfigurer implements WebMvcConfigurer {\n\n    @Override\n    public void addCorsMappings(CorsRegistry registry) {\n      registry.addMapping("/**").allowedOrigins("*");\n    }\n  }\n}\n')),(0,r.kt)("h3",{id:"step-9-add-users"},"Step 9: Add users"),(0,r.kt)("p",null,"In order for security to work, we need to define ldap users. Please download\nthe ",(0,r.kt)("inlineCode",{parentName:"p"},"example-users.ldif")," file here:"),(0,r.kt)("div",{className:o.Z.buttons},(0,r.kt)(i.Z,{className:"button button--secondary button--lg",mdxType:"Link"},(0,r.kt)("a",{className:"button button--secondary button--lg",href:t(6169).Z,download:!0,target:"_blank"},"Download example users "))),(0,r.kt)("br",null),(0,r.kt)("p",null,"Please unzip the ",(0,r.kt)("inlineCode",{parentName:"p"},"example-users")," file and put it into the ",(0,r.kt)("inlineCode",{parentName:"p"},"resources")," folder."),(0,r.kt)("p",null,"Your project structure should now look like this:\n",(0,r.kt)("img",{alt:"project structure",src:t(9887).Z,width:"355",height:"633"})),(0,r.kt)("h3",{id:"step-10-try-out-the-rest-api"},"Step 10: Try out the REST-API"),(0,r.kt)("p",null,"First, restart the ExampleApplication. Try to make a request like in the previous step, for example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"GET http://localhost:8080/taskana/api/v1/tasks\n")),(0,r.kt)("p",null,"You should get the 401 Unauthorized response. Now, you can authorize yourself using basicAuth.\nIn ",(0,r.kt)("a",{parentName:"p",href:"https://www.postman.com/"},"postman"),', go to the "Authorization" tab. There, select basicAuth and\ntype "admin" as user and "admin" as password. Then, you can make the following request:'),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"GET http://localhost:8080/taskana/api/v1/tasks\n")),(0,r.kt)("p",null,"It should return a list of Tasks in the response body. Here is a screenshot of the request and the\nresponse in ",(0,r.kt)("a",{parentName:"p",href:"https://www.postman.com/"},"postman"),":"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"example request",src:t(657).Z,width:"1395",height:"927"})),(0,r.kt)("h2",{id:"set-up-taskana-ui"},"Set up TASKANA UI"),(0,r.kt)("h3",{id:"step-11-add-web-dependencies"},"Step 11: Add web dependencies"),(0,r.kt)("p",null,"Add following dependencies to your pom and reload maven:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"<dependency>\n    <groupId>pro.taskana</groupId>\n    <artifactId>taskana-web</artifactId>\n    <version>6.0.2</version>\n</dependency>\n<dependency>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>spring-boot-starter-thymeleaf</artifactId>\n</dependency>\n")),(0,r.kt)("h3",{id:"step-12-add-controllers"},"Step 12: Add controllers"),(0,r.kt)("p",null,"Add ",(0,r.kt)("inlineCode",{parentName:"p"},"controllers")," package into the ",(0,r.kt)("inlineCode",{parentName:"p"},"com.example.demo")," package (in\nsrc/main/java/com/example/demo). This package will contain the controllers for different paths. Our\napplication needs following three controllers:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"LoginController"),(0,r.kt)("li",{parentName:"ul"},"ResourcesController"),(0,r.kt)("li",{parentName:"ul"},"ViewController")),(0,r.kt)("p",null,"These will be added in the steps 12a, 12b and 12c."),(0,r.kt)("h4",{id:"step-12a-add-logincontrollerjava"},"Step 12a: Add ",(0,r.kt)("inlineCode",{parentName:"h4"},"LoginController.java")),(0,r.kt)("p",null,"The LoginController will handle the login into taskana. It will need the ",(0,r.kt)("inlineCode",{parentName:"p"},"templates/login.html"),"\nin the ",(0,r.kt)("inlineCode",{parentName:"p"},"resources")," folder. You can download the templates folder here:"),(0,r.kt)("div",{className:o.Z.buttons},(0,r.kt)(i.Z,{className:"button button--secondary button--lg",mdxType:"Link"},(0,r.kt)("a",{className:"button button--secondary button--lg",href:t(2516).Z,download:!0,target:"_blank"},"Download templates "))),(0,r.kt)("p",null,"Please unzip the ",(0,r.kt)("inlineCode",{parentName:"p"},"templates")," folder and put it into the ",(0,r.kt)("inlineCode",{parentName:"p"},"resources")," folder. Then, copy\nfollowing code into ",(0,r.kt)("inlineCode",{parentName:"p"},"LoginController.java"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'package com.example.demo.controllers;\n\nimport org.springframework.core.Ordered;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.servlet.config.annotation.ViewControllerRegistry;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\n\n@Controller\npublic class LoginController implements WebMvcConfigurer {\n\n    @Override\n    public void addViewControllers(ViewControllerRegistry registry) {\n        registry.addViewController("/login").setViewName("login");\n        registry.setOrder(Ordered.HIGHEST_PRECEDENCE);\n    }\n}\n')),(0,r.kt)("h4",{id:"step-12b-add-resourcescontrollerjava"},"Step 12b: Add ResourcesController.java"),(0,r.kt)("p",null,"The ResourcesController handles resources like images and additional customizations. You'll need\nthe ",(0,r.kt)("inlineCode",{parentName:"p"},"static")," folder for it. You can download the ",(0,r.kt)("inlineCode",{parentName:"p"},"static")," folder here:"),(0,r.kt)("div",{className:o.Z.buttons},(0,r.kt)(i.Z,{className:"button button--secondary button--lg",mdxType:"Link"},(0,r.kt)("a",{className:"button button--secondary button--lg",href:t(7348).Z,download:!0,target:"_blank"},"Download static ")))," ",(0,r.kt)("br",null),(0,r.kt)("p",null,"Please unzip the ",(0,r.kt)("inlineCode",{parentName:"p"},"static")," folder and copy it into ",(0,r.kt)("inlineCode",{parentName:"p"},"resources"),". Additionaly, there is\nthe ",(0,r.kt)("inlineCode",{parentName:"p"},"com.example.demo.controllers")," folder for further customizations. Please downlad it here:"),(0,r.kt)("div",{className:o.Z.buttons},(0,r.kt)(i.Z,{className:"button button--secondary button--lg",mdxType:"Link"},(0,r.kt)("a",{className:"button button--secondary button--lg",href:t(2376).Z,download:!0,target:"_blank"},"Download controllers "))),(0,r.kt)("br",null),(0,r.kt)("p",null,"Unzip the ",(0,r.kt)("inlineCode",{parentName:"p"},"com")," folder and put it into ",(0,r.kt)("inlineCode",{parentName:"p"},"resources"),". Then, please copy following code\ninto ",(0,r.kt)("inlineCode",{parentName:"p"},"ResourcesController.java"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'package com.example.demo.controllers;\n\nimport org.springframework.http.MediaType;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport pro.taskana.common.internal.util.ResourceUtil;\n\nimport java.io.IOException;\n\n@Controller\npublic class ResourcesController {\n\n    public static final String TASKANA_CUSTOMIZATION_FILE_NAME = "taskana-customization.json";\n\n    @GetMapping(\n            value = "/environments/data-sources/taskana-customization.json",\n            produces = MediaType.APPLICATION_JSON_VALUE)\n    public ResponseEntity<String> taskanaCustomization() throws IOException {\n        return ResponseEntity.ok(readResourceAsString(TASKANA_CUSTOMIZATION_FILE_NAME));\n    }\n\n    // the environment-information.json file will be served via "static" folder\n    //  @GetMapping(\n    //      value = "/environments/data-sources/environment-information.json",\n    //      produces = MediaType.APPLICATION_JSON_VALUE)\n    //  public ResponseEntity<String> environmentInformation() throws Exception {\n    //    return ResponseEntity.ok(readResourceAsString("environment-information.json"));\n    //  }\n\n    private String readResourceAsString(String resource) throws IOException {\n        String resourceAsString = ResourceUtil.readResourceAsString(getClass(), resource);\n        if (resourceAsString == null) {\n            return "{}";\n        }\n        return resourceAsString;\n    }\n}\n')),(0,r.kt)("h4",{id:"step-12c-add-viewcontrollerjava"},"Step 12c: Add ViewController.java"),(0,r.kt)("p",null,"The ViewController manages the root view of taskana. Copy following code\ninto ",(0,r.kt)("inlineCode",{parentName:"p"},"ViewController.java"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'package com.example.demo.controllers;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.GetMapping;\n\n/** The view controller. */\n@Controller\npublic class ViewController {\n\n    @GetMapping(path = {"", "taskana/**"})\n    public String index() {\n        return "forward:/index.html";\n    }\n}\n')),(0,r.kt)("h3",{id:"step-13-add-webmvcconfigjava"},"Step 13: Add WebMvcConfig.java"),(0,r.kt)("p",null,"Create ",(0,r.kt)("inlineCode",{parentName:"p"},"WebMvcConfig.java")," in the ",(0,r.kt)("inlineCode",{parentName:"p"},"com.example.demo")," package. It handles resources and\nmessages of the application. Copy following content into ",(0,r.kt)("inlineCode",{parentName:"p"},"WebMvcConfig.java"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'package com.example.demo;\n\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.SerializationFeature;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.http.converter.HttpMessageConverter;\nimport org.springframework.http.converter.json.MappingJackson2HttpMessageConverter;\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\nimport org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\n\nimport javax.annotation.PostConstruct;\nimport java.util.List;\n\n/**\n * The Web MVC Configuration.\n */\n@Configuration\n@EnableWebMvc\npublic class WebMvcConfig implements WebMvcConfigurer {\n\n    private static final String[] CLASSPATH_RESOURCE_LOCATIONS = {\n            "classpath:/META-INF/resources/", "classpath:/resources/",\n            "classpath:/static/", "classpath:/public/"\n    };\n\n    private final ObjectMapper objectMapper;\n\n    @Autowired\n    public WebMvcConfig(ObjectMapper objectMapper) {\n        this.objectMapper = objectMapper;\n    }\n\n    @Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n        if (!registry.hasMappingForPattern("/webjars/**")) {\n            registry\n                    .addResourceHandler("/webjars/**")\n                    .addResourceLocations("classpath:/META-INF/resources/webjars/");\n        }\n        if (!registry.hasMappingForPattern("/**")) {\n            registry.addResourceHandler("/**").addResourceLocations(CLASSPATH_RESOURCE_LOCATIONS);\n        }\n    }\n\n    @Override\n    public void extendMessageConverters(List<HttpMessageConverter<?>> converters) {\n        for (HttpMessageConverter<?> converter : converters) {\n            if (converter instanceof MappingJackson2HttpMessageConverter) {\n                MappingJackson2HttpMessageConverter jacksonConverter =\n                        (MappingJackson2HttpMessageConverter) converter;\n                jacksonConverter.setPrettyPrint(true);\n            }\n        }\n    }\n\n    @PostConstruct\n    public void enableObjectIndent() {\n        objectMapper.enable(SerializationFeature.INDENT_OUTPUT);\n    }\n}\n\n')),(0,r.kt)("p",null,"Your project structure should look like this:"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"project structure",src:t(1399).Z,width:"351",height:"842"})),(0,r.kt)("h3",{id:"step-14-start-and-open-the-application"},"Step 14: Start and open the application"),(0,r.kt)("p",null,"Recompile the application, then go to the DemoApplication class in the IDE and start it. Then\ntype ",(0,r.kt)("inlineCode",{parentName:"p"},"localhost:8080/taskana")," into your browser. You should see the login screen:"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Log in",src:t(2200).Z,width:"1820",height:"976"})),(0,r.kt)("p",null,'Log in using "admin" as username and "admin" as password. Now, you should see following:'),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Workbaskets",src:t(909).Z,width:"1916",height:"1102"})),(0,r.kt)("p",null,"Press the menu button in the upper left to navigate."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Navigate",src:t(4778).Z,width:"1907",height:"1096"})))}g.isMDXComponent=!0},2376:(e,n,t)=>{t.d(n,{Z:()=>a});const a=t.p+"assets/files/com-0f07a8bf0277901135aeeda167b5a7ce.zip"},6169:(e,n,t)=>{t.d(n,{Z:()=>a});const a=t.p+"assets/files/example-users-59b3afc8ac24bc03947b63568201a681.zip"},7348:(e,n,t)=>{t.d(n,{Z:()=>a});const a=t.p+"assets/files/static-b5a210389c4f7556535cbd797a333654.zip"},2516:(e,n,t)=>{t.d(n,{Z:()=>a});const a=t.p+"assets/files/templates-63e01163241f7b3e4c22ff63263214df.zip"},933:(e,n,t)=>{t.d(n,{Z:()=>a});const a={features:"features_t9lD",featureSvg:"featureSvg_GfXr",featureText:"featureText_ZxAV"}},8118:(e,n,t)=>{t.d(n,{Z:()=>a});const a=t.p+"assets/images/example-request-classifications-0eca365b18b2aa2f059fa8cd18718b86.png"},2200:(e,n,t)=>{t.d(n,{Z:()=>a});const a=t.p+"assets/images/login-38e1c948b583faba6c0a0449230bf7b5.png"},4778:(e,n,t)=>{t.d(n,{Z:()=>a});const a=t.p+"assets/images/navigate-d9073ffe5f925daee48a253620cba56d.png"},565:(e,n,t)=>{t.d(n,{Z:()=>a});const a=t.p+"assets/images/project-initializer-36766e23926e9de9544f809c236ec969.png"},1399:(e,n,t)=>{t.d(n,{Z:()=>a});const a=t.p+"assets/images/project-structure-end-a0f0c7c318c8d3e2810f1bb7b165f5f3.png"},9887:(e,n,t)=>{t.d(n,{Z:()=>a});const a=t.p+"assets/images/project-structure-security-9607aaae9482804b3fd2e9f797362df1.png"},657:(e,n,t)=>{t.d(n,{Z:()=>a});const a=t.p+"assets/images/request-security-ea37ce040aec51b3b2eaf6698888e0d0.png"},5554:(e,n,t)=>{t.d(n,{Z:()=>a});const a=t.p+"assets/images/rest-api-project-a58e3752764d48e32eedd577c97f099a.png"},1596:(e,n,t)=>{t.d(n,{Z:()=>a});const a=t.p+"assets/images/schritt-2-471abd42fb0e963330579ad3675bd6a5.png"},909:(e,n,t)=>{t.d(n,{Z:()=>a});const a=t.p+"assets/images/workbaskets-cb8ebbc84c5dfb0d8940e7f33cebf264.png"}}]);