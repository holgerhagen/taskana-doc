"use strict";(self.webpackChunkfirst_example=self.webpackChunkfirst_example||[]).push([[120],{3905:(t,e,a)=>{a.d(e,{Zo:()=>p,kt:()=>c});var n=a(7294);function r(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function i(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function l(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?i(Object(a),!0).forEach((function(e){r(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function o(t,e){if(null==t)return{};var a,n,r=function(t,e){if(null==t)return{};var a,n,r={},i=Object.keys(t);for(n=0;n<i.length;n++)a=i[n],e.indexOf(a)>=0||(r[a]=t[a]);return r}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)a=i[n],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(r[a]=t[a])}return r}var u=n.createContext({}),s=function(t){var e=n.useContext(u),a=e;return t&&(a="function"==typeof t?t(e):l(l({},e),t)),a},p=function(t){var e=s(t.components);return n.createElement(u.Provider,{value:e},t.children)},d={inlineCode:"code",wrapper:function(t){var e=t.children;return n.createElement(n.Fragment,{},e)}},m=n.forwardRef((function(t,e){var a=t.components,r=t.mdxType,i=t.originalType,u=t.parentName,p=o(t,["components","mdxType","originalType","parentName"]),m=s(a),c=r,k=m["".concat(u,".").concat(c)]||m[c]||d[c]||i;return a?n.createElement(k,l(l({ref:e},p),{},{components:a})):n.createElement(k,l({ref:e},p))}));function c(t,e){var a=arguments,r=e&&e.mdxType;if("string"==typeof t||r){var i=a.length,l=new Array(i);l[0]=m;var o={};for(var u in e)hasOwnProperty.call(e,u)&&(o[u]=e[u]);o.originalType=t,o.mdxType="string"==typeof t?t:r,l[1]=o;for(var s=2;s<i;s++)l[s]=a[s];return n.createElement.apply(null,l)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},3179:(t,e,a)=>{a.r(e),a.d(e,{assets:()=>u,contentTitle:()=>l,default:()=>d,frontMatter:()=>i,metadata:()=>o,toc:()=>s});var n=a(7462),r=(a(7294),a(3905));const i={sidebar_position:5},l="TASKANA-jobs",o={unversionedId:"user-guide/configuration/jobs-configuration",id:"user-guide/configuration/jobs-configuration",title:"TASKANA-jobs",description:"Jobs are automated processes that run in the background of the application, usually periodically. They are scheduled for configurable times and then run by the scheduler. For example, the TaskCleanupJob deletes Tasks after they reached a certain time passed after their completion. You can read more about jobs here.",source:"@site/docs/user-guide/configuration/jobs-configuration.md",sourceDirName:"user-guide/configuration",slug:"/user-guide/configuration/jobs-configuration",permalink:"/taskana-doc/docs/user-guide/configuration/jobs-configuration",draft:!1,tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5},sidebar:"userSidebar",previous:{title:"Classification and ServiceLevel",permalink:"/taskana-doc/docs/user-guide/configuration/classification-domain"},next:{title:"Holidays and Working Days",permalink:"/taskana-doc/docs/user-guide/configuration/holidays-working-time"}},u={},s=[{value:"Scheduler Configuration",id:"scheduler-configuration",level:2},{value:"General Jobs Configuration",id:"general-jobs-configuration",level:2},{value:"Example",id:"example",level:2},{value:"TaskCleanupJob and HistoryCleanupJob Configuration",id:"taskcleanupjob-and-historycleanupjob-configuration",level:2},{value:"TaskUpdatePriorityJob Configuration",id:"taskupdatepriorityjob-configuration",level:2},{value:"UserInfoRefreshJob Configuration",id:"userinforefreshjob-configuration",level:2}],p={toc:s};function d(t){let{components:e,...a}=t;return(0,r.kt)("wrapper",(0,n.Z)({},p,a,{components:e,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"taskana-jobs"},"TASKANA-jobs"),(0,r.kt)("p",null,"Jobs are automated processes that run in the background of the application, usually periodically. They are scheduled for configurable times and then run by the scheduler. For example, the TaskCleanupJob deletes Tasks after they reached a certain time passed after their completion. You can read more about jobs ",(0,r.kt)("a",{parentName:"p",href:"/taskana-doc/docs/user-guide/features/jobs"},"here"),".\nCommon options for jobs customization are listed and explained as following:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Batch size"),": Maximum number of entities that are processed in one job"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Max number of retries"),": Maximum number of retries if a job fails "),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"First run at"),": The date for the first run of the job"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Run every"),": The interval between individual runs of a job")),(0,r.kt)("p",null,"Additionally, different jobs have other special parameters for customization. "),(0,r.kt)("p",null,"You can also configure the scheduler. In the inital run of the scheduler, all jobs are scheduled for the first time. Each run, the scheduler looks up which jobs are past their due date. These jobs get executed. The behavior of jobs and the scheduler in TASKANA can be customized in the configuration file ",(0,r.kt)("inlineCode",{parentName:"p"},"taskana.properties")," with the following parameters:"),(0,r.kt)("h2",{id:"scheduler-configuration"},"Scheduler Configuration"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Sample Value"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"taskana.jobs.scheduler.enabled"),(0,r.kt)("td",{parentName:"tr",align:null},"Enabling automated scheduling of jobs"),(0,r.kt)("td",{parentName:"tr",align:null},"false")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"taskana.jobs.scheduler.initialStartDelay"),(0,r.kt)("td",{parentName:"tr",align:null},"Start delay before the first job gets scheduled"),(0,r.kt)("td",{parentName:"tr",align:null},"30")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"taskana.jobs.scheduler.period"),(0,r.kt)("td",{parentName:"tr",align:null},"The time interval between the individual runs of the scheduler"),(0,r.kt)("td",{parentName:"tr",align:null},"12")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"taskana.jobs.scheduler.periodTimeUnit"),(0,r.kt)("td",{parentName:"tr",align:null},"The unit for scheduler.initialStartDelay and scheduler.period"),(0,r.kt)("td",{parentName:"tr",align:null},"HOURS")))),(0,r.kt)("h2",{id:"general-jobs-configuration"},"General Jobs Configuration"),(0,r.kt)("p",null,"This configuration options are overwritten by job specific configuration options"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Sample Value"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"taskana.jobs.maxRetries"),(0,r.kt)("td",{parentName:"tr",align:null},"number of automatic retries after a job has failed"),(0,r.kt)("td",{parentName:"tr",align:null},"5")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"taskana.jobs.batchSize"),(0,r.kt)("td",{parentName:"tr",align:null},"upper bound of how many tasks can be processed by one job"),(0,r.kt)("td",{parentName:"tr",align:null},"45")))),(0,r.kt)("h2",{id:"example"},"Example"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Setup"),': In this example, the application starts on 5th April 2017 at 5pm. The scheduler has an initialStartDelay of 2 hours. The period of the scheduler is 3 hours. There is one Job active.This Job should be first run on 5th April at 6pm. The Jobs "runEvery" parameter is set to 2 hours.'),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Result"),": "),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"5th April 5pm: Application starts."),(0,r.kt)("li",{parentName:"ul"},"5th April 6pm: The Job becomes due. However, it isn't run yet."),(0,r.kt)("li",{parentName:"ul"},"5th April 7pm: Scheduler runs the first time. It runs the Job."),(0,r.kt)("li",{parentName:"ul"},"5th April 9pm: The Job becomes due. However, it isn't run yet."),(0,r.kt)("li",{parentName:"ul"},"5th Aril 10pm: Scheduler runs the second time. It runs the Job."),(0,r.kt)("li",{parentName:"ul"},"5th Aril 12pm: The Job becomes due. However, it isn't run yet."),(0,r.kt)("li",{parentName:"ul"},"6th April 1am: Scheduler runs the third time. It runs the Job."),(0,r.kt)("li",{parentName:"ul"},"6th Aril 3am: The Job becomes due. However, it isn't run yet.")),(0,r.kt)("h2",{id:"taskcleanupjob-and-historycleanupjob-configuration"},"TaskCleanupJob and HistoryCleanupJob Configuration"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Sample Value"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"taskana.jobs.cleanup.task.runEvery"),(0,r.kt)("td",{parentName:"tr",align:null},"period of time between the executions of the cleanup job on tasks (Duration in ISO 8601 format)"),(0,r.kt)("td",{parentName:"tr",align:null},"P2D")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"taskana.jobs.cleanup.task.firstRunAt"),(0,r.kt)("td",{parentName:"tr",align:null},"first time the cleanup job on tasks is run (DateTime n ISO 8601 format)"),(0,r.kt)("td",{parentName:"tr",align:null},"2021-08-03T08:00:00Z")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"taskana.jobs.cleanup.task.minimumAge"),(0,r.kt)("td",{parentName:"tr",align:null},"the completed task can be deleted by the cleanup only after this period of time or later  (Duration in ISO 8601 format)"),(0,r.kt)("td",{parentName:"tr",align:null},"P10D")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"taskana.jobs.cleanup.history.simple.runEvery"),(0,r.kt)("td",{parentName:"tr",align:null},"period of time between the executions of the cleanup job on history events (Duration in ISO 8601 format)"),(0,r.kt)("td",{parentName:"tr",align:null},"P7D")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"taskana.jobs.cleanup.history.simple.firstRunAt"),(0,r.kt)("td",{parentName:"tr",align:null},"first time the cleanup job on history events is run (DateTime n ISO 8601 format)"),(0,r.kt)("td",{parentName:"tr",align:null},"2021-08-03T08:00:00Z")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"taskana.jobs.cleanup.history.simple.minimumAge"),(0,r.kt)("td",{parentName:"tr",align:null},"the created history event can be deleted by the cleanup only after this period of time or later  (Duration in ISO 8601 format)"),(0,r.kt)("td",{parentName:"tr",align:null},"P60D")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"taskana.jobs.cleanup.history.simple.batchSize"),(0,r.kt)("td",{parentName:"tr",align:null},"upper bound of how many history events can be processed by one history cleanup job"),(0,r.kt)("td",{parentName:"tr",align:null},"45")))),(0,r.kt)("h2",{id:"taskupdatepriorityjob-configuration"},"TaskUpdatePriorityJob Configuration"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Sample Value"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"taskana.jobs.priority.task.batchSize"),(0,r.kt)("td",{parentName:"tr",align:null},"upper bound of how many tasks can be processed by one TaskUpdatePriorityJob"),(0,r.kt)("td",{parentName:"tr",align:null},"70")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"taskana.jobs.priority.task.runEvery"),(0,r.kt)("td",{parentName:"tr",align:null},"period of time between the executions of the TaskUpdatePriorityJob (Duration in ISO 8601 format)"),(0,r.kt)("td",{parentName:"tr",align:null},"P2D")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"taskana.jobs.priority.task.firstRunAt"),(0,r.kt)("td",{parentName:"tr",align:null},"first time the job is executed (DateTime in ISO 8601 format)"),(0,r.kt)("td",{parentName:"tr",align:null},"2021-08-03T08:00:00Z")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"taskana.jobs.priority.task.active"),(0,r.kt)("td",{parentName:"tr",align:null},"the job will only be executed if the flag is set to true"),(0,r.kt)("td",{parentName:"tr",align:null},"true")))),(0,r.kt)("h2",{id:"userinforefreshjob-configuration"},"UserInfoRefreshJob Configuration"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Sample Value"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"taskana.jobs.refresh.user.runEvery"),(0,r.kt)("td",{parentName:"tr",align:null},"period of time between the executions of the UserInfoRefreshJob (Duration in ISO 8601 format)"),(0,r.kt)("td",{parentName:"tr",align:null},"P2D")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"taskana.jobs.refresh.user.firstRunAt"),(0,r.kt)("td",{parentName:"tr",align:null},"first time the job is executed (DateTime in ISO 8601 format)"),(0,r.kt)("td",{parentName:"tr",align:null},"2021-08-03T22:00:00Z")))))}d.isMDXComponent=!0}}]);